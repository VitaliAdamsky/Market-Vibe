<table>
  <thead>
    <tr>
      <th>Coin</th>
      <th *ngFor="let item of openInterestData[0]?.data?.slice(removedFromBeginningColumns)">
        <div class="vertical-text">
          {{ item.openTime | date: 'EEE':'':'ru' }}
          {{ item.openTime | date: 'HH:mm':'':'ru' }}
        </div>
      </th>
    </tr>
  </thead>

  <tbody cdkDropList (cdkDropListDropped)="dropRow($event)">
    <tr *ngFor="let coin of openInterestData; let i = index" cdkDrag>
      <td class="coin-label" (mouseenter)="hoveredIndex = i" (mouseleave)="hoveredIndex = null">
        <div class="logo-container">
          <img class="logo" [src]="coin.imageUrl" width="20" />
          <span class="coin-name">{{ stripPair(coin.symbol) }}</span>

          <!-- Custom Tooltip -->
          <div class="custom-tooltip" *ngIf="hoveredIndex === i">
            <a [href]="coinLinksService.tradingViewLink(coin.symbol, coin.exchanges)" target="_blank"
              class="tooltip-link">
              <img src="assets/icons/tv.svg" alt="TV" class="round-image" />
            </a>

            <a [href]="coinLinksService.coinglassLink(coin.symbol, coin.exchanges)" target="_blank"
              class="tooltip-link">
              <img src="assets/icons/coinglass.svg" alt="CG" class="round-image" />
            </a>

            <ng-container *ngFor="let exchange of coin.exchanges">
              <a [href]="coinLinksService.exchangeLink(coin.symbol, exchange)" target="_blank" class="tooltip-link">
                <img [src]="coinLinksService.exchangeLogoLink(exchange)" [alt]="exchange" class="round-image" />
              </a>
            </ng-container>
          </div>
        </div>
      </td>


      <td *ngFor="let item of coin.data?.slice(removedFromBeginningColumns)">
        <div class="color-cell" [style.backgroundColor]="item.colors.openInterest"></div>
      </td>
    </tr>
  </tbody>
</table>
